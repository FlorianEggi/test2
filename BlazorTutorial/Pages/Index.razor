@page "/Home"

@inject Service service
@using Webshop.Shared.Models.Requests.Search

@using MatBlazor

<style>
    .center {
        text-align: center;
        width: 100%
    }

    .demo-mat-card {
        max-width: 400px;
    }

    .demo-mat-card-content {
        padding: 1rem;
    }

    .demo-mat-card-clean-margin {
        margin: 0px;
    }
</style>

<div class="center">
    <span>Nur Lagerware </span>
    <MatSlideToggle @bind-Value="@Lagerware"></MatSlideToggle>
    <MatTextField @bind-Value="@searchTerm" Label="Suche" Outlined="true"></MatTextField>
    <MatIconButton @onclick="@SearchClicked" Icon="search"></MatIconButton>
</div>

@if (ListProducts.Count > 0)
{
    <div>
        <MatTable OnRowDbClick="OnPersonDbClicked"
                  AllowSelection="true"
                  Items="@ListProducts" class="mat-elevation-z5">
            <MatTableHeader>
                <th>Name</th>
                <th>Price</th>
                <th>Horsepower</th>
            </MatTableHeader>
            <MatTableRow>
                <td>
                    @context.Datanormname1 <br />
                    @context.Datanormname2
                </td>
                <td>@context.Unit</td>
                <td>@context.Grossprice</td>
            </MatTableRow>
        </MatTable>
    </div>

    <MatDialog @bind-IsOpen="@dialogIsOpen">
        <MatDialogTitle>Hi Luke</MatDialogTitle>
        <MatDialogContent>
            <p>What's your favorite animal?</p>
            <MatTextField @bind-Value="@dialogAnimal"></MatTextField>
        </MatDialogContent>
        <MatDialogActions>
            <MatButton OnClick="@(e => { dialogIsOpen = false; })">Abbrechen</MatButton>
            <MatButton OnClick="@OkClick">In den Warenkorb</MatButton>
        </MatDialogActions>
    </MatDialog>
}
